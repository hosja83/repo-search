{"ast":null,"code":"import _slicedToArray from\"/home/hosainy/documents/sas/repo-search-engine/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchForm=function SearchForm(props){// State for query, queryValidation boolen flag, and navigate hook\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isValidQuery=_useState4[0],setIsValidQuery=_useState4[1];var navigate=useNavigate();/*\n   Check whether query has url special characters /, \\, %, or,\n   starts with ampersand & which gives out validation error from API\n  */var validateQuery=function validateQuery(q){var regex=/^&|\\\\|%|\\//;regex.test(q)?setIsValidQuery(false):setIsValidQuery(true);};// Update onChange, validate, and set query\nvar handleInput=function handleInput(event){var newQuery=event.target.value.trim();setQuery(newQuery);validateQuery(newQuery);};// Navigate to search/query Route/url if valid\nvar handleSubmit=function handleSubmit(event){event.preventDefault();if(isValidQuery)navigate(\"/search/\".concat(query));};// Dynamic styling for hiding/showing Error and search form header in results view\nvar _useState5=useState('search-error-inactive'),_useState6=_slicedToArray(_useState5,2),formErrorStyle=_useState6[0],setFormErrorStyle=_useState6[1];useEffect(function(){isValidQuery?setFormErrorStyle('search-error-inactive'):setFormErrorStyle('search-error-active');},[isValidQuery]);var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),formHeaderStyle=_useState8[0],setFormHeaderStyle=_useState8[1];useEffect(function(){setFormHeaderStyle(props.style_top?{position:\"static\",marginTop:\"85px\"}:{position:\"absolute\",marginTop:\"0\"});},[props]);// Displays Search Form input, button, search icon, and github Search header\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"form-header-container\",style:formHeaderStyle,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"top-header\",children:\"GitHub Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"search-form\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"svg\",{focusable:\"false\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",className:\"search-icon\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search\",onChange:handleInput})]}),/*#__PURE__*/_jsx(\"div\",{className:formErrorStyle,children:\"* Special characters /, \\\\, and % are not allowed. Search cannot start with & ampersand.\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-default\",id:\"submit-btn\",children:\"Github Search\"})]})})]});};export default SearchForm;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","SearchForm","props","query","setQuery","isValidQuery","setIsValidQuery","navigate","validateQuery","q","regex","test","handleInput","event","newQuery","target","value","trim","handleSubmit","preventDefault","formErrorStyle","setFormErrorStyle","formHeaderStyle","setFormHeaderStyle","style_top","position","marginTop"],"sources":["/home/hosainy/documents/sas/repo-search-engine/src/SearchForm.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst SearchForm = (props) => {\n  // State for query, queryValidation boolen flag, and navigate hook\n  const [query, setQuery] = useState(\"\");\n  const [isValidQuery, setIsValidQuery] = useState(true);\n  const navigate = useNavigate();\n\n  /*\n   Check whether query has url special characters /, \\, %, or,\n   starts with ampersand & which gives out validation error from API\n  */\n  const validateQuery = (q) => {\n    const regex = /^&|\\\\|%|\\//;\n    (regex.test(q)) ? setIsValidQuery(false) : setIsValidQuery(true);\n  }\n\n  // Update onChange, validate, and set query\n  const handleInput = (event) => {\n    const newQuery = event.target.value.trim();\n    setQuery(newQuery);\n    validateQuery(newQuery);\n  };\n\n  // Navigate to search/query Route/url if valid\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    \n    if (isValidQuery) \n      navigate(`/search/${query}`);\n  };\n\n  // Dynamic styling for hiding/showing Error and search form header in results view\n  const [formErrorStyle, setFormErrorStyle] = useState('search-error-inactive');\n  useEffect(() => {\n    (isValidQuery) ? setFormErrorStyle('search-error-inactive') : setFormErrorStyle('search-error-active')\n  }, [isValidQuery]);\n\n  const [formHeaderStyle, setFormHeaderStyle] = useState(null);\n  useEffect(() => {\n    setFormHeaderStyle((props.style_top) ? {position: \"static\", marginTop: \"85px\" } : {position: \"absolute\", marginTop: \"0\" });\n  }, [props]);\n\n  // Displays Search Form input, button, search icon, and github Search header\n  return (\n    <div className=\"form-header-container\" style={formHeaderStyle}>\n      <h1 className=\"top-header\">GitHub Search</h1>\n      <div className=\"search\">\n        <form onSubmit={handleSubmit} className=\"search-form\">\n          <div>\n            \n            <svg focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" className=\"search-icon\">\n              <path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\n            </svg>\n            <input type=\"text\" className=\"form-control\" placeholder=\"Search\" onChange={handleInput}/>\n          </div>\n          <div className={formErrorStyle}>\n            * Special characters /, \\, and % are not allowed. Search cannot start with & ampersand.\n          </div>\n          <button type=\"submit\" className=\"btn btn-default\" id=\"submit-btn\">Github Search</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchForm;"],"mappings":"oIAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,KAAD,CAAW,CAC5B;AACA,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAAwCN,QAAQ,CAAC,IAAD,CAAhD,yCAAOO,YAAP,eAAqBC,eAArB,eACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEA;AACF;AACA;AACA,IACE,GAAMQ,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CAC3B,GAAMC,MAAK,CAAG,YAAd,CACCA,KAAK,CAACC,IAAN,CAAWF,CAAX,CAAD,CAAkBH,eAAe,CAAC,KAAD,CAAjC,CAA2CA,eAAe,CAAC,IAAD,CAA1D,CACD,CAHD,CAKA;AACA,GAAMM,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAC7B,GAAMC,SAAQ,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmBC,IAAnB,EAAjB,CACAb,QAAQ,CAACU,QAAD,CAAR,CACAN,aAAa,CAACM,QAAD,CAAb,CACD,CAJD,CAMA;AACA,GAAMI,aAAY,CAAG,QAAfA,aAAe,CAACL,KAAD,CAAW,CAC9BA,KAAK,CAACM,cAAN,GAEA,GAAId,YAAJ,CACEE,QAAQ,mBAAYJ,KAAZ,EAAR,CACH,CALD,CAOA;AACA,eAA4CL,QAAQ,CAAC,uBAAD,CAApD,yCAAOsB,cAAP,eAAuBC,iBAAvB,eACAtB,SAAS,CAAC,UAAM,CACbM,YAAD,CAAiBgB,iBAAiB,CAAC,uBAAD,CAAlC,CAA8DA,iBAAiB,CAAC,qBAAD,CAA/E,CACD,CAFQ,CAEN,CAAChB,YAAD,CAFM,CAAT,CAIA,eAA8CP,QAAQ,CAAC,IAAD,CAAtD,yCAAOwB,eAAP,eAAwBC,kBAAxB,eACAxB,SAAS,CAAC,UAAM,CACdwB,kBAAkB,CAAErB,KAAK,CAACsB,SAAP,CAAoB,CAACC,QAAQ,CAAE,QAAX,CAAqBC,SAAS,CAAE,MAAhC,CAApB,CAA+D,CAACD,QAAQ,CAAE,UAAX,CAAuBC,SAAS,CAAE,GAAlC,CAAhE,CAAlB,CACD,CAFQ,CAEN,CAACxB,KAAD,CAFM,CAAT,CAIA;AACA,mBACE,aAAK,SAAS,CAAC,uBAAf,CAAuC,KAAK,CAAEoB,eAA9C,wBACE,WAAI,SAAS,CAAC,YAAd,2BADF,cAEE,YAAK,SAAS,CAAC,QAAf,uBACE,cAAM,QAAQ,CAAEJ,YAAhB,CAA8B,SAAS,CAAC,aAAxC,wBACE,oCAEE,YAAK,SAAS,CAAC,OAAf,CAAuB,KAAK,CAAC,4BAA7B,CAA0D,OAAO,CAAC,WAAlE,CAA8E,SAAS,CAAC,aAAxF,uBACE,aAAM,CAAC,CAAC,4MAAR,EADF,EAFF,cAKE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,WAAW,CAAC,QAAxD,CAAiE,QAAQ,CAAEN,WAA3E,EALF,GADF,cAQE,YAAK,SAAS,CAAEQ,cAAhB,sGARF,cAWE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,EAAE,CAAC,YAArD,2BAXF,GADF,EAFF,GADF,CAoBD,CA9DD,CAgEA,cAAenB,WAAf"},"metadata":{},"sourceType":"module"}