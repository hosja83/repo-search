{"ast":null,"code":"import _toConsumableArray from\"/home/hosainy/documents/sas/repo-search-engine/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/home/hosainy/documents/sas/repo-search-engine/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hosainy/documents/sas/repo-search-engine/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/hosainy/documents/sas/repo-search-engine/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-useless-concat */ /* eslint-disable react-hooks/exhaustive-deps */import React,{useState,useEffect}from'react';import{useLocation}from\"react-router-dom\";import'@fortawesome/fontawesome-free/js/all';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import Error from\"./Error.js\";import Bookmark from'./Bookmark.js';import\"./index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ResultDetails(){/* \n    State for JSON parsed repo details/object, error, contributors details, bookmark boolean flag\n    and location hook for access to details of repo passed as state.\n  */var location=useLocation();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),itemDetails=_useState2[0],setItemDetails=_useState2[1];var _useState3=useState({message:\"\"}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),contributors=_useState6[0],setContributors=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),isBookmark=_useState8[0],setIsBookmark=_useState8[1];useEffect(function(){if(location.state!==null&&location.state!==undefined){setItemDetails(location.state.item_details);}else{// reload bookmarked page\nsetIsBookmark(true);}},[]);// Fetches contributors through Github API call if repo details are set\nuseEffect(function(){if(itemDetails!==null)fetchContributors();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[itemDetails]);// Fetches contributors from API and handles errors\nvar fetchContributors=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(itemDetails.contributors_url);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(response.status>=400||response.ok===false){setError({message:data.message});}else{setContributors(data);setError({message:\"\"});setIsBookmark(false);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchContributors(){return _ref.apply(this,arguments);};}();// Inner child component that displays details of repository\nfunction Details(){return/*#__PURE__*/_jsx(\"div\",{className:\"details-outer-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"details-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-top-section\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"details-repo-header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-brands fa-github\"}),itemDetails.name]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-main-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-left-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"label-value-pair-container\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"details-label details-label1\",children:\"Repository:\"}),/*#__PURE__*/_jsx(\"a\",{href:itemDetails.html_url,rel:\"noopener noreferrer\",target:\"_blank\",className:\"details-value1\",children:itemDetails.name}),/*#__PURE__*/_jsx(\"b\",{className:\"details-label details-label2\",children:\"Repo Descr:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"details-value2\",children:itemDetails.description}),/*#__PURE__*/_jsx(\"b\",{className:\"details-label details-label3\",children:\"Created On:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"details-value3\",children:new Date(_toConsumableArray(itemDetails.created_at).slice().join(\"\")).toString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contributors-container \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"contributors-label details-label\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Contributors \",/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-contributors\",children:contributors.length})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contributors\",children:[error.message!==\"\"?/*#__PURE__*/_jsx(Error,{message:error.message}):null,contributors.map(function(contributor){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:contributor.html_url,rel:\"noopener noreferrer\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"img\",{src:contributor.avatar_url,className:\"contributors-imgs\",alt:\"Contributor \"+contributor.login+\"'s \"+\"avatar\"})})},contributor.id);})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-right-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-counters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-label\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"fa-solid fa-code-fork\",color:\"#F99F38\"}),\" Forks\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-fork\",children:itemDetails.forks_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-label\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"fa-solid fa-eye\",color:\"#315399\"}),\" Watch\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-watch\",children:itemDetails.watchers_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-label\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"fa-solid fa-star\",color:\"#F7DE3A\"}),\" Stars\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-stars\",children:itemDetails.stargazers_count})]})]}),/*#__PURE__*/_jsx(\"img\",{src:itemDetails.owner.avatar_url,alt:\"Owner avatar\",className:\"owner-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"owner-details\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"details-label\",children:\"Owner \"}),/*#__PURE__*/_jsx(\"a\",{href:itemDetails.owner.html_url,rel:\"noopener noreferrer\",target:\"_blank\",children:itemDetails.owner.login})]})]})]})]})});}// Renders Details unless we received a Bookmark Route\nreturn/*#__PURE__*/_jsx(_Fragment,{children:isBookmark!==null?isBookmark?/*#__PURE__*/_jsx(Bookmark,{}):/*#__PURE__*/_jsx(Details,{details:itemDetails}):null});}export default ResultDetails;","map":{"version":3,"names":["React","useState","useEffect","useLocation","FontAwesomeIcon","Error","Bookmark","ResultDetails","location","itemDetails","setItemDetails","message","error","setError","contributors","setContributors","isBookmark","setIsBookmark","state","undefined","item_details","fetchContributors","fetch","contributors_url","response","json","data","status","ok","Details","name","html_url","description","Date","created_at","slice","join","toString","length","map","contributor","avatar_url","login","id","forks_count","watchers_count","stargazers_count","owner"],"sources":["/home/hosainy/documents/sas/repo-search-engine/src/ResultDetails.js"],"sourcesContent":["/* eslint-disable no-useless-concat */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport '@fortawesome/fontawesome-free/js/all';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Error from \"./Error.js\";\nimport Bookmark from './Bookmark.js';\nimport \"./index.css\";\n\nfunction ResultDetails() {\n  /* \n    State for JSON parsed repo details/object, error, contributors details, bookmark boolean flag\n    and location hook for access to details of repo passed as state.\n  */\n  const location = useLocation();\n  const [itemDetails, setItemDetails] = useState(null);\n  const [error, setError] = useState({message: \"\"});\n  const [contributors, setContributors] = useState([]);\n  const [isBookmark, setIsBookmark] = useState(null);\n\n  useEffect(() => {\n    if (location.state !== null && location.state !== undefined) {\n      setItemDetails(location.state.item_details);\n    } else {\n      // reload bookmarked page\n      setIsBookmark(true);\n    }\n  }, []);\n\n  // Fetches contributors through Github API call if repo details are set\n  useEffect(() => {\n    if (itemDetails !== null)\n      fetchContributors();\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [itemDetails]);\n\n  // Fetches contributors from API and handles errors\n  const fetchContributors = async () => {\n    const response = await fetch(itemDetails.contributors_url);\n    const data = await response.json();\n\n    if (response.status >= 400 || response.ok === false) {\n      setError({message: data.message});\n    } else {\n      setContributors(data); \n      setError({message: \"\"});\n      setIsBookmark(false);\n    }\n  }\n\n  // Inner child component that displays details of repository\n  function Details() {\n    return (\n      <div className=\"details-outer-body\">\n        <div className=\"details-body\">\n          <div className=\"details-top-section\">\n            <h1 className=\"details-repo-header\"><i className=\"fa-brands fa-github\"></i>{itemDetails.name}</h1>\n          </div>\n          <div className=\"details-main-section\">\n            <div className=\"details-left-section\">\n              <div className=\"label-value-pair-container\">\n                <b className=\"details-label details-label1\">Repository:</b>\n                <a href={itemDetails.html_url} rel=\"noopener noreferrer\" target=\"_blank\" className=\"details-value1\">{itemDetails.name}</a>\n                <b className=\"details-label details-label2\">Repo Descr:</b>\n                <span className=\"details-value2\">{itemDetails.description}</span>\n                <b className=\"details-label details-label3\">Created On:</b>\n                <span className=\"details-value3\">{(new Date([...itemDetails.created_at].slice().join(\"\"))).toString()}</span>\n              </div>\n              <div className=\"contributors-container \">\n                <div className=\"contributors-label details-label\"><b>Contributors <span className=\"badge badge-contributors\">{contributors.length}</span></b></div>\n                <div className=\"contributors\">\n                  {(error.message !== \"\") ? <Error message={error.message}/> : null}\n                  {\n                    contributors.map( contributor => {\n                      return (\n                        <div key={contributor.id}>\n                          <a href={contributor.html_url} rel=\"noopener noreferrer\" target=\"_blank\">\n                            <img src={contributor.avatar_url} className=\"contributors-imgs\" alt={\"Contributor \" + contributor.login + \"'s \" + \"avatar\"}/>\n                          </a>\n                        </div>\n                      );\n                    })\n                  }\n                </div>\n              </div>\n            </div>\n            <div className=\"details-right-section\">\n              <div className=\"details-counters\">\n                <div className=\"details-label\">\n                  <div>\n                    <FontAwesomeIcon icon=\"fa-solid fa-code-fork\" color='#F99F38'/> Forks\n                  </div>\n                  <span className=\"badge badge-fork\">{itemDetails.forks_count}</span>\n                </div>\n                <div className=\"details-label\">\n                  <div>\n                    <FontAwesomeIcon icon=\"fa-solid fa-eye\" color='#315399'/> Watch\n                  </div>\n                  <span className=\"badge badge-watch\">{itemDetails.watchers_count}</span>\n                </div>\n                <div className=\"details-label\">\n                  <div>\n                    <FontAwesomeIcon icon=\"fa-solid fa-star\" color=\"#F7DE3A\"/> Stars\n                  </div>\n                  <span className=\"badge badge-stars\">{itemDetails.stargazers_count}</span> \n                </div>\n              </div>\n                <img src={itemDetails.owner.avatar_url} alt=\"Owner avatar\" className=\"owner-avatar\"/>\n                <div className=\"owner-details\">\n                  <b className=\"details-label\">Owner </b>\n                  <a href={itemDetails.owner.html_url} rel=\"noopener noreferrer\" target=\"_blank\">{itemDetails.owner.login}</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Renders Details unless we received a Bookmark Route\n  return (\n    <>\n    {\n       (isBookmark !== null) ? ( (isBookmark) ? <Bookmark/> : <Details details={itemDetails}/> ) \n                             : null\n    }\n    </>\n  );\n}\n\nexport default ResultDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module"}