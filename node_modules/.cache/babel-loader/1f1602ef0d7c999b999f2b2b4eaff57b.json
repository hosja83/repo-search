{"ast":null,"code":"module.exports = register;\n\nfunction register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce(function (callback, name) {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(function () {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce(function (method, registered) {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}","map":{"version":3,"names":["module","exports","register","state","name","method","options","Error","Array","isArray","reverse","reduce","callback","bind","Promise","resolve","then","registry","registered","hook"],"sources":["/home/hosainy/documents/oden-project/repos/sas-interview-assignment/node_modules/before-after-hook/lib/register.js"],"sourcesContent":["module.exports = register;\n\nfunction register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce(function (callback, name) {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(function () {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce(function (method, registered) {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,QAAjB;;AAEA,SAASA,QAAT,CAAkBC,KAAlB,EAAyBC,IAAzB,EAA+BC,MAA/B,EAAuCC,OAAvC,EAAgD;EAC9C,IAAI,OAAOD,MAAP,KAAkB,UAAtB,EAAkC;IAChC,MAAM,IAAIE,KAAJ,CAAU,2CAAV,CAAN;EACD;;EAED,IAAI,CAACD,OAAL,EAAc;IACZA,OAAO,GAAG,EAAV;EACD;;EAED,IAAIE,KAAK,CAACC,OAAN,CAAcL,IAAd,CAAJ,EAAyB;IACvB,OAAOA,IAAI,CAACM,OAAL,GAAeC,MAAf,CAAsB,UAAUC,QAAV,EAAoBR,IAApB,EAA0B;MACrD,OAAOF,QAAQ,CAACW,IAAT,CAAc,IAAd,EAAoBV,KAApB,EAA2BC,IAA3B,EAAiCQ,QAAjC,EAA2CN,OAA3C,CAAP;IACD,CAFM,EAEJD,MAFI,GAAP;EAGD;;EAED,OAAOS,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAY;IACxC,IAAI,CAACb,KAAK,CAACc,QAAN,CAAeb,IAAf,CAAL,EAA2B;MACzB,OAAOC,MAAM,CAACC,OAAD,CAAb;IACD;;IAED,OAAOH,KAAK,CAACc,QAAN,CAAeb,IAAf,EAAqBO,MAArB,CAA4B,UAAUN,MAAV,EAAkBa,UAAlB,EAA8B;MAC/D,OAAOA,UAAU,CAACC,IAAX,CAAgBN,IAAhB,CAAqB,IAArB,EAA2BR,MAA3B,EAAmCC,OAAnC,CAAP;IACD,CAFM,EAEJD,MAFI,GAAP;EAGD,CARM,CAAP;AASD"},"metadata":{},"sourceType":"script"}